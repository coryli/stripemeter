{
  "id": "f146046b-a67f-47ae-a518-a23ca8766f48",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "5",
  "dialect": "pg",
  "tables": {
    "adjustments": {
      "name": "adjustments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "metric": {
          "name": "metric",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "customer_ref": {
          "name": "customer_ref",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "delta": {
          "name": "delta",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "actor": {
          "name": "actor",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_adjustments_tenant_period": {
          "name": "idx_adjustments_tenant_period",
          "columns": [
            "tenant_id",
            "period_start"
          ],
          "isUnique": false
        },
        "idx_adjustments_tenant_customer": {
          "name": "idx_adjustments_tenant_customer",
          "columns": [
            "tenant_id",
            "customer_ref"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "alert_configs": {
      "name": "alert_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "customer_ref": {
          "name": "customer_ref",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metric": {
          "name": "metric",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "threshold": {
          "name": "threshold",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_alert_configs_tenant": {
          "name": "idx_alert_configs_tenant",
          "columns": [
            "tenant_id",
            "enabled"
          ],
          "isUnique": false
        },
        "idx_alert_configs_customer": {
          "name": "idx_alert_configs_customer",
          "columns": [
            "tenant_id",
            "customer_ref",
            "enabled"
          ],
          "isUnique": false
        },
        "idx_alert_configs_metric": {
          "name": "idx_alert_configs_metric",
          "columns": [
            "tenant_id",
            "metric",
            "enabled"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "alert_history": {
      "name": "alert_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "alert_config_id": {
          "name": "alert_config_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "customer_ref": {
          "name": "customer_ref",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metric": {
          "name": "metric",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "value": {
          "name": "value",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "threshold": {
          "name": "threshold",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'triggered'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "triggered_at": {
          "name": "triggered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_alert_history_tenant": {
          "name": "idx_alert_history_tenant",
          "columns": [
            "tenant_id",
            "triggered_at"
          ],
          "isUnique": false
        },
        "idx_alert_history_status": {
          "name": "idx_alert_history_status",
          "columns": [
            "status",
            "tenant_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "alert_history_alert_config_id_alert_configs_id_fk": {
          "name": "alert_history_alert_config_id_alert_configs_id_fk",
          "tableFrom": "alert_history",
          "tableTo": "alert_configs",
          "columnsFrom": [
            "alert_config_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "api_keys": {
      "name": "api_keys",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "secret_hash": {
          "name": "secret_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "prefix": {
          "name": "prefix",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_four": {
          "name": "last_four",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scopes": {
          "name": "scopes",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'project:write,project:read'"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {
        "idx_api_keys_org": {
          "name": "idx_api_keys_org",
          "columns": [
            "organisation_id"
          ],
          "isUnique": false
        },
        "idx_api_keys_project": {
          "name": "idx_api_keys_project",
          "columns": [
            "project_id"
          ],
          "isUnique": false
        },
        "uq_api_keys_org_name": {
          "name": "uq_api_keys_org_name",
          "columns": [
            "organisation_id",
            "name"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "audit_logs": {
      "name": "audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "actor_type": {
          "name": "actor_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "actor_id": {
          "name": "actor_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_type": {
          "name": "resource_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip": {
          "name": "ip",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_audit_logs_org": {
          "name": "idx_audit_logs_org",
          "columns": [
            "organisation_id",
            "created_at"
          ],
          "isUnique": false
        },
        "idx_audit_logs_project": {
          "name": "idx_audit_logs_project",
          "columns": [
            "project_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "counters": {
      "name": "counters",
      "schema": "",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "metric": {
          "name": "metric",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "customer_ref": {
          "name": "customer_ref",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "agg_sum": {
          "name": "agg_sum",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "agg_max": {
          "name": "agg_max",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "agg_last": {
          "name": "agg_last",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "watermark_ts": {
          "name": "watermark_ts",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_counters_tenant_period": {
          "name": "idx_counters_tenant_period",
          "columns": [
            "tenant_id",
            "period_start"
          ],
          "isUnique": false
        },
        "idx_counters_customer": {
          "name": "idx_counters_customer",
          "columns": [
            "tenant_id",
            "customer_ref",
            "period_start"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "counters_tenant_id_metric_customer_ref_period_start_pk": {
          "name": "counters_tenant_id_metric_customer_ref_period_start_pk",
          "columns": [
            "tenant_id",
            "metric",
            "customer_ref",
            "period_start"
          ]
        }
      },
      "uniqueConstraints": {}
    },
    "events": {
      "name": "events",
      "schema": "",
      "columns": {
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "metric": {
          "name": "metric",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "customer_ref": {
          "name": "customer_ref",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "ts": {
          "name": "ts",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'http'"
        },
        "inserted_at": {
          "name": "inserted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_events_tenant_metric_customer_ts": {
          "name": "idx_events_tenant_metric_customer_ts",
          "columns": [
            "tenant_id",
            "metric",
            "customer_ref",
            "ts"
          ],
          "isUnique": false
        },
        "idx_events_tenant_ts": {
          "name": "idx_events_tenant_ts",
          "columns": [
            "tenant_id",
            "ts"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "price_mappings": {
      "name": "price_mappings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "metric": {
          "name": "metric",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "aggregation": {
          "name": "aggregation",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_account": {
          "name": "stripe_account",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "price_id": {
          "name": "price_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subscription_item_id": {
          "name": "subscription_item_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {
        "idx_price_mappings_tenant": {
          "name": "idx_price_mappings_tenant",
          "columns": [
            "tenant_id",
            "active"
          ],
          "isUnique": false
        },
        "idx_price_mappings_metric": {
          "name": "idx_price_mappings_metric",
          "columns": [
            "tenant_id",
            "metric",
            "active"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_active_mapping": {
          "name": "unique_active_mapping",
          "nullsNotDistinct": true,
          "columns": [
            "tenant_id",
            "metric",
            "active"
          ]
        }
      }
    },
    "write_log": {
      "name": "write_log",
      "schema": "",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_account": {
          "name": "stripe_account",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subscription_item_id": {
          "name": "subscription_item_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "pushed_total": {
          "name": "pushed_total",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "last_request_id": {
          "name": "last_request_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_write_log_tenant": {
          "name": "idx_write_log_tenant",
          "columns": [
            "tenant_id",
            "period_start"
          ],
          "isUnique": false
        },
        "idx_write_log_subscription_item": {
          "name": "idx_write_log_subscription_item",
          "columns": [
            "subscription_item_id",
            "period_start"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "write_log_tenant_id_stripe_account_subscription_item_id_period_start_pk": {
          "name": "write_log_tenant_id_stripe_account_subscription_item_id_period_start_pk",
          "columns": [
            "tenant_id",
            "stripe_account",
            "subscription_item_id",
            "period_start"
          ]
        }
      },
      "uniqueConstraints": {}
    },
    "reconciliation_reports": {
      "name": "reconciliation_reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "subscription_item_id": {
          "name": "subscription_item_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "local_total": {
          "name": "local_total",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_total": {
          "name": "stripe_total",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "diff": {
          "name": "diff",
          "type": "numeric(20, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_reconciliation_tenant_period": {
          "name": "idx_reconciliation_tenant_period",
          "columns": [
            "tenant_id",
            "period_start"
          ],
          "isUnique": false
        },
        "idx_reconciliation_status": {
          "name": "idx_reconciliation_status",
          "columns": [
            "status",
            "tenant_id"
          ],
          "isUnique": false
        },
        "idx_reconciliation_subscription_item": {
          "name": "idx_reconciliation_subscription_item",
          "columns": [
            "subscription_item_id",
            "period_start"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "simulation_batches": {
      "name": "simulation_batches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scenario_ids": {
          "name": "scenario_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "total_runs": {
          "name": "total_runs",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "completed_runs": {
          "name": "completed_runs",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "failed_runs": {
          "name": "failed_runs",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "batches_tenant_idx": {
          "name": "batches_tenant_idx",
          "columns": [
            "tenant_id"
          ],
          "isUnique": false
        },
        "batches_status_idx": {
          "name": "batches_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "batches_created_at_idx": {
          "name": "batches_created_at_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "simulation_runs": {
      "name": "simulation_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "scenario_id": {
          "name": "scenario_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "run_type": {
          "name": "run_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "scenario_snapshot": {
          "name": "scenario_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "comparison": {
          "name": "comparison",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "passed": {
          "name": "passed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "runs_tenant_idx": {
          "name": "runs_tenant_idx",
          "columns": [
            "tenant_id"
          ],
          "isUnique": false
        },
        "runs_scenario_idx": {
          "name": "runs_scenario_idx",
          "columns": [
            "scenario_id"
          ],
          "isUnique": false
        },
        "runs_status_idx": {
          "name": "runs_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "runs_created_at_idx": {
          "name": "runs_created_at_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        },
        "runs_type_idx": {
          "name": "runs_type_idx",
          "columns": [
            "run_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "simulation_runs_scenario_id_simulation_scenarios_id_fk": {
          "name": "simulation_runs_scenario_id_simulation_scenarios_id_fk",
          "tableFrom": "simulation_runs",
          "tableTo": "simulation_scenarios",
          "columnsFrom": [
            "scenario_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "simulation_scenarios": {
      "name": "simulation_scenarios",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1'"
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "model": {
          "name": "model",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "inputs": {
          "name": "inputs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "expected": {
          "name": "expected",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tolerances": {
          "name": "tolerances",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "scenarios_tenant_idx": {
          "name": "scenarios_tenant_idx",
          "columns": [
            "tenant_id"
          ],
          "isUnique": false
        },
        "scenarios_name_idx": {
          "name": "scenarios_name_idx",
          "columns": [
            "name"
          ],
          "isUnique": false
        },
        "scenarios_active_idx": {
          "name": "scenarios_active_idx",
          "columns": [
            "active"
          ],
          "isUnique": false
        },
        "scenarios_created_at_idx": {
          "name": "scenarios_created_at_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "organisations": {
      "name": "organisations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "uq_organisations_slug": {
          "name": "uq_organisations_slug",
          "columns": [
            "slug"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "projects": {
      "name": "projects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "uq_projects_org_slug": {
          "name": "uq_projects_org_slug",
          "columns": [
            "organisation_id",
            "slug"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "org_members": {
      "name": "org_members",
      "schema": "",
      "columns": {
        "organisation_id": {
          "name": "organisation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_org_members_org": {
          "name": "idx_org_members_org",
          "columns": [
            "organisation_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "org_members_organisation_id_user_id_pk": {
          "name": "org_members_organisation_id_user_id_pk",
          "columns": [
            "organisation_id",
            "user_id"
          ]
        }
      },
      "uniqueConstraints": {}
    }
  },
  "enums": {},
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}