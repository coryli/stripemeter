<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stripemeter Customer Widget Demo</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        margin: 0;
        padding: 20px;
        background-color: #f3f4f6;
      }
      .demo-container {
        max-width: 800px;
        margin: 0 auto;
      }
      .demo-header {
        text-align: center;
        margin-bottom: 40px;
      }
      .widget-demo {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-bottom: 40px;
      }
      .integration-example {
        background: white;
        padding: 20px;
        border-radius: 8px;
        border: 1px solid #e5e7eb;
      }
      .code-block {
        background: #1f2937;
        color: #f9fafb;
        padding: 15px;
        border-radius: 6px;
        font-family: 'Monaco', 'Menlo', monospace;
        font-size: 14px;
        overflow-x: auto;
      }
    </style>
  </head>
  <body>
    <div class="demo-container">
      <div class="demo-header">
        <h1>Stripemeter Customer Widget</h1>
        <p>Embeddable usage and billing widget for your customers</p>
      </div>

      <div class="widget-demo">
        <div>
          <h3>Normal Widget</h3>
          <div id="widget-normal"></div>
        </div>
        <div>
          <h3>Compact Widget</h3>
          <div id="widget-compact"></div>
        </div>
      </div>

      <div class="integration-example">
        <h3>Integration Example</h3>
        <p>Add the widget to your application:</p>
        <pre class="code-block">
&lt;!-- Include the widget script --&gt;
&lt;script src="https://cdn.stripemeter.io/widget/v1/stripemeter-widget.umd.js"&gt;&lt;/script&gt;

&lt;!-- Create a container --&gt;
&lt;div id="stripemeter-widget"&gt;&lt;/div&gt;

&lt;!-- Initialize the widget --&gt;
&lt;script&gt;
  StripemeterWidget.initStripemeterWidget('stripemeter-widget', {
    apiUrl: 'https://api.stripemeter.io',
    tenantId: 'your-tenant-id',
    customerId: 'your-customer-id',
    apiKey: 'your-api-key', // optional
    theme: 'light', // or 'dark'
    compact: false // or true for compact view
  });
&lt;/script&gt;
        </pre>
      </div>
    </div>

    <script type="module" src="/src/widget.tsx"></script>
    <script>
      // Demo initialization
      setTimeout(() => {
        if (window.StripemeterWidget) {
          // Normal widget
          window.StripemeterWidget.initStripemeterWidget('widget-normal', {
            apiUrl: 'http://localhost:3000',
            tenantId: '9b1deb4d-3b7d-4bad-9bdd-2b0d7b3dcb6d',
            customerId: 'cus_ABC123',
            theme: 'light',
            compact: false
          });

          // Compact widget
          window.StripemeterWidget.initStripemeterWidget('widget-compact', {
            apiUrl: 'http://localhost:3000',
            tenantId: '9b1deb4d-3b7d-4bad-9bdd-2b0d7b3dcb6d',
            customerId: 'cus_ABC123',
            theme: 'light',
            compact: true
          });
        }
      }, 1000);
    </script>
  </body>
</html>
